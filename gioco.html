<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometry Dash</title>
    <style>
        body {
            position: fixed;
            background: url(GeoSfondo2.png);
            background-repeat: repeat-x;

        }

        #cubo {
            width: 100px;
            height: 100px;
            left: 30px;
            right: 10px;
            bottom: 45px;
            position: fixed;
        }

        #barraNera {
            background-color: black;
            width: 100%;
            position: fixed;
            top: 95%;
            left: 0;
            height: 50px;
        }

        .classeBlocco {
            background-color: black;
            border-color: white;
            border-radius: 6px;
            border-width: 10px;
            width: 100px;
            height: 100px;
            position: fixed;
            left: 400px;
            bottom: 50px;

        }
    </style>

</head>

<body onkeydown="inter(event)" onload="posizionaBlocchi()">
    <img src="Cube001.webp" id="cubo" alt="cubo">
    <div id="barraNera"></div>
</body>
<script>
    "use strict";
    //CODICE CHE MUOVE SFONDO   
    let sinistra = 0;
    function muoviSfondo() {
        let sfondo = document.querySelector("body");
        sinistra -= 10;
        sfondo.style.backgroundPositionX = `${sinistra}px`;
    }
     
    function muoviOggetti(obj1) {
        let sinistraObj = parseInt(obj1.style.left);
        sinistraObj -= 5;
        obj1.style.left = `${sinistraObj}px`;
    }
    /*
    function collisione(obj1, obj2) {
let coll = true;
let img1 = obj1.getBoundingClientRect();
let img2 = obj2.getBoundingClientRect();
if (img1.y > img2.y + img2.height) {
    coll = false;
}
if (img2.x + img2.width < img1.x) {
    coll = false;
}
if (img1.x + img1.width < img2.x) {
    coll = false;
}
if (img1.y + img1.height < img2.y) {
    coll = false;
}
return coll;
}
*/
    let blocco = document.createElement("div");
    function posizionaBlocchi() {
        let padre = document.getElementsByTagName("body")[0];
        blocco.classList.add("classeBlocco");
        padre.appendChild(blocco);
    }
    let timerSfondo = 1;
    let timerOggetti = 1;
    let yCubo = 40;
    function inter(mkz) {
        let cubo = document.querySelector("img");
        if (mkz.key == " ") {
            yCubo += 250;
            cubo.style.bottom = yCubo + "px";
            if (timerSfondo == 1) {
                timerSfondo = window.setInterval(muoviSfondo, 10);
            }
            if (timerOggetti == 1) {
                timerOggetti = window.setInterval(()=>muoviOggetti(blocco), 10);
               
            }
        }
    }

</script>

</html>